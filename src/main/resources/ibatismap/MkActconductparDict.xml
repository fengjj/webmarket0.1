<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap 
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">


<sqlMap namespace="MkActconductparDict">


	<sql id="select-all-column">
	SELECT
		parameter_id AS parameterId,
		parameter_name AS parameterName,
		actconduct_id AS actconductId,
		classname AS classname,
		province_group AS provinceGroup,
		eng_name AS engName	
	FROM mk_actconductpar_dict
	</sql>
	
	<sql id="where-all-condition">
	<dynamic prepend=" WHERE ">
		<isPropertyAvailable property="parameterId" prepend="and">
			<isNotNull property="parameterId">
				<isNotEmpty property="parameterId">
					parameter_id = #parameterId#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
		<isPropertyAvailable property="parameterName" prepend="and">
			<isNotNull property="parameterName">
				<isNotEmpty property="parameterName">
					parameter_name = #parameterName#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
		<isPropertyAvailable property="actconductId" prepend="and">
			<isNotNull property="actconductId">
				<isNotEmpty property="actconductId">
					actconduct_id = #actconductId#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
		<isPropertyAvailable property="classname" prepend="and">
			<isNotNull property="classname">
				<isNotEmpty property="classname">
					classname = #classname#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
		<isPropertyAvailable property="provinceGroup" prepend="and">
			<isNotNull property="provinceGroup">
				<isNotEmpty property="provinceGroup">
					province_group = #provinceGroup#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
		<isPropertyAvailable property="engName" prepend="and">
			<isNotNull property="engName">
				<isNotEmpty property="engName">
					eng_name = #engName#
				</isNotEmpty>
			</isNotNull>
		</isPropertyAvailable>
	</dynamic>
	</sql>
	<select id="selectMkActconductparDictById" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		<include refid="select-all-column"/>
		WHERE parameter_id = #parameterId#
	</select>

	<select id="selectMkActconductparDict" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		<include refid="select-all-column"/>
		<include refid="where-all-condition"/>
	</select>
	
	<insert id="insertMkActconductparDict" parameterClass="java.util.Map">
	INSERT INTO mk_actconductpar_dict (
		parameter_id,
		parameter_name,
		actconduct_id,
		classname,
		province_group,
		eng_name
	) VALUES (
		#parameterId# ,
		#parameterName# ,
		#actconductId# ,
		#classname# ,
		#provinceGroup# ,
		#engName#     
	)
	</insert>
	
	<update id="updateMkActconductparDict" parameterClass="java.util.Map">
	UPDATE mk_actconductpar_dict
	<dynamic prepend=" SET ">
		<isNotNull property="parameterId" prepend=",">
			parameter_id = #parameterId#
		</isNotNull>
		<isNotNull property="parameterName" prepend=",">
			parameter_name = #parameterName#
		</isNotNull>
		<isNotNull property="actconductId" prepend=",">
			actconduct_id = #actconductId#
		</isNotNull>
		<isNotNull property="classname" prepend=",">
			classname = #classname#
		</isNotNull>
		<isNotNull property="provinceGroup" prepend=",">
			province_group = #provinceGroup#
		</isNotNull>
		<isNotNull property="engName" prepend=",">
			eng_name = #engName#
		</isNotNull>
	</dynamic>

	<include refid="where-all-condition"/>
	</update>
	
	<delete id="deleteMkActconductparDictById" parameterClass="java.util.Map">
	DELETE FROM mk_actconductpar_dict
	WHERE parameter_id = #parameterId#
	</delete>

	<delete id="deleteMkActconductparDict" parameterClass="java.util.Map">
	DELETE FROM mk_actconductpar_dict
	<include refid="where-all-condition"/>
	</delete>
	
	<select id="selectMkActconductparDictParam" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		<isEmpty property="S">
			SELECT
			parameter_id AS parameterId,
			parameter_name AS parameterName,
			actconduct_id AS actconductId,
			classname AS classname,
			province_group AS provinceGroup,
			eng_name AS engName
		</isEmpty>
		<isNotEmpty property="S">
			SELECT $S$
		</isNotEmpty>
		 	FROM mk_actconductpar_dict $W$
	</select>
	<select id="selectPermissionParList" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		<isEmpty property="S">
		select 
		actconduct_id AS actconductId,
		parameter_id AS parameterId
		from mk_actconductpar_dict  
		order by actconduct_id,parameter_id
	</isEmpty>
	</select>
	
	<select id="selectActConductContentList" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		a.actconduct_par_id AS actconductParId,
		a.actconduct_par_value AS actconductParValue,
		b.parameter_name AS parameterName
		from mk_eventcontent_info a,mk_actconductpar_dict b
		where a.actconduct_par_id =b.parameter_id  
		and  a.event_id=#busiId# 
		and a.actconduct_id =#actioncondId#   
		and  b.province_group=#provinceCode#
	</select>
</sqlMap>
